<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è</title>
    <style>
        /* –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è flash-—Å–æ–æ–±—â–µ–Ω–∏–π (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) */
        .flash-message {
            margin: 10px 0;
            padding: 12px;
            border-radius: 4px;
            font-size: 14px;
            animation: flashFadeOut 5s forwards;
        }
        .flash-error {
            color: #721c24;
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
        }
        .flash-success {
            color: #155724;
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
        }
        @keyframes flashFadeOut {
            0% { opacity: 1; }
            80% { opacity: 1; }
            100% { opacity: 0; height: 0; padding: 0; margin: 0; overflow: hidden; }
        }

        /* –ù–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è (–Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ) */
        body {
            background: url('/static/images/photo.jpg') no-repeat center center fixed;
            background-size: cover;
            margin: 0;
            font-family: Arial, sans-serif;
            color: white;
        }
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: -1;
        }
        
        /* –®–∞–ø–∫–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏ */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            background: rgba(20, 20, 20, 0.9);
        }
        .header h1 {
            margin: 0;
            color: white;
        }
        .header-nav {
            display: flex;
            gap: 15px;
        }
        .header-nav a {
            color: white;
            text-decoration: none;
            background: rgba(40, 40, 40, 0.8);
            padding: 8px 15px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            transition: background 0.3s;
        }
        .header-nav a:hover {
            background: rgba(60, 60, 60, 0.8);
        }
        hr {
            margin: 0;
            border: none;
            border-top: 1px solid #444;
        }
        
        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .content {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background: rgba(30, 30, 30, 0.85);
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ñ–æ—Ä–º—ã (–Ω–µ –∏–∑–º–µ–Ω—è—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É) */
        input[type="text"],
        input[type="password"] {
            width: 100%;
            padding: 10px;
            margin: 8px 0;
            box-sizing: border-box;
            background: rgba(20, 20, 20, 0.9);
            color: white;
            border: 1px solid #444;
            border-radius: 4px;
        }
        button {
            width: 100%;
            padding: 10px;
            background: rgba(60, 60, 60, 0.8);
            color: white;
            border: 1px solid #444;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
            transition: background 0.3s;
        }
        button:hover {
            background: rgba(80, 80, 80, 0.8);
        }
    </style>
</head>
<body>
    <!-- –ù–æ–≤–∞—è —à–∞–ø–∫–∞ -->
    <div class="header">
        <h1>Vlog Flow üçí</h1>
        <div class="header-nav">
            <a href="{{url_for('profile')}}">–û—Ç–º–µ–Ω–∞</a>
        </div>
    </div>
    <hr>

    <div class="content">
        <!-- –ë–ª–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="flash-message flash-{{ category }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <!-- –§–æ—Ä–º–∞ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã) -->
        <form action="/update_new_profie" method="post">
            <input type="text" name="new_name" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤–æ–µ –∏–º—è"><br>
            <input type="password" name="password" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å" required> <small>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ</small><br>  
            <input type="password" name="new_password" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å"><br>
            <button type="submit">–ò–∑–º–µ–Ω–∏—Ç—å</button><br>
        </form>
    </div>
</body>
</html>